2025-05-11 18:15:08,092 - INFO - [analyze_paper.py:35] - Gemini API 키가 설정되었습니다.
2025-05-11 18:15:08,093 - INFO - [analyze_paper.py:42] - 사용할 Gemini 모델: gemini-1.5-pro-latest
2025-05-11 18:15:08,094 - INFO - [test_analyze_paper.py:33] - === 단일 파일 분석 테스트 시작 ===
2025-05-11 18:15:08,096 - INFO - [test_analyze_paper.py:38] - 테스트 환경 설정 완료: 입력 폴더=test_input, 출력 폴더=test_result, 로그 폴더=test_logs
2025-05-11 18:15:08,097 - INFO - [test_analyze_paper.py:48] - 테스트 파일 복사 완료: test_input\A business model template for AI solutions.pdf
2025-05-11 18:15:08,098 - INFO - [test_analyze_paper.py:58] - 프롬프트 템플릿과 분석 키 로드 완료
2025-05-11 18:15:08,099 - INFO - [test_analyze_paper.py:61] - 파일 분석 시작: test_input\A business model template for AI solutions.pdf
2025-05-11 18:15:08,099 - INFO - [analyze_paper.py:76] - 'A business model template for AI solutions.pdf' 파일을 업로드하는 중...
2025-05-11 18:15:08,900 - DEBUG - [discovery.py:1258] - URL being requested: POST https://generativelanguage.googleapis.com/upload/v1beta/files?key=AIzaSyB1te7hQnMp6v5nyQgv_F2uUMjTonbSjDs&alt=json&uploadType=resumable
2025-05-11 18:15:12,199 - INFO - [analyze_paper.py:79] - -> 파일 업로드 완료: A business model template for AI solutions.pdf (URI: https://generativelanguage.googleapis.com/v1beta/files/4fq7r98pl2r8)
2025-05-11 18:15:12,199 - DEBUG - [analyze_paper.py:80] - 파일 메타데이터: 크기=337262 bytes, 생성일=2025-05-11 18:15:08.095749
2025-05-11 18:15:14,200 - INFO - [analyze_paper.py:91] - Gemini API로 PDF 분석 시작...
2025-05-11 18:15:14,201 - DEBUG - [analyze_paper.py:94] - 모델 초기화 완료: gemini-1.5-pro-latest
2025-05-11 18:15:15,389 - ERROR - [analyze_paper.py:101] - 오류: PDF 분석 중 문제 발생 - 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 44
}
]
Traceback (most recent call last):
  File "C:\Users\javam\OneDrive\dev\analyze-paper\analyze_paper.py", line 96, in analyze_pdf_with_gemini
    response = model.generate_content([prompt, pdf_file])
  File "C:\Users\javam\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\javam\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\javam\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\javam\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\javam\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\javam\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\javam\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\javam\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\javam\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 44
}
]
2025-05-11 18:15:15,394 - INFO - [test_analyze_paper.py:65] - 파일 분석 완료
2025-05-11 18:15:15,394 - DEBUG - [test_analyze_paper.py:66] - 분석 결과: {'논문 제목': 'A business model template for AI solutions.pdf', '핵심 내용': '처리 시작', '비즈니스 모델 캔버스(BMC) 활용 여부': '처리 시작', 'AI의 특징': '처리 시작', '고객 세그먼트': '처리 시작', '가치 제안': '처리 시작', '채널': '처리 시작', '고객 관계': '처리 시작', '수익 흐름': '처리 시작', '핵심 자원': '처리 시작', '핵심 활동': '처리 시작', '핵심 파트너십': '처리 시작', '비용 구조': '처리 시작', '추가영역 제시': '처리 시작', '비즈니스 캔버스 모델의 틀 변경 여부': '처리 시작', '기타': '처리 시작', '오류': 'API 응답 없음'}
2025-05-11 18:15:15,395 - INFO - [test_analyze_paper.py:76] - === 단일 파일 분석 테스트 종료 ===
